# 生产环境 .env 配置模板
# Production Environment Configuration Template

# ===== 域名配置 =====
DASHBOARD_DOMAIN=dashboard.yourcompany.com
API_DOMAIN=api.yourcompany.com
VPN_DOMAIN=vpn.yourcompany.com

# ===== 安全配置 =====
# 生成强密钥: openssl rand -base64 32
DJANGO_SECRET_KEY=CHANGE_THIS_TO_STRONG_SECRET_KEY

# ===== 数据库配置 =====
DB_USER=openwisp_prod
DB_PASS=CHANGE_THIS_TO_STRONG_PASSWORD
DB_NAME=openwisp_production

# ===== InfluxDB 配置 =====
INFLUXDB_USER=openwisp_metrics
INFLUXDB_PASS=CHANGE_THIS_TO_STRONG_PASSWORD
INFLUXDB_NAME=openwisp_metrics

# ===== 邮件配置 =====
EMAIL_DJANGO_DEFAULT=admin@yourcompany.com
CERT_ADMIN_EMAIL=admin@yourcompany.com

# ===== SSL证书配置 =====
# 生产环境建议使用 LetsEncrypt 或外部证书
SSL_CERT_MODE=SelfSigned
# SSL_CERT_MODE=LetsEncrypt
# SSL_CERT_MODE=External

# ===== SSH配置 =====
SSH_PRIVATE_KEY_PATH=/home/openwisp/.ssh/id_ed25519
SSH_PUBLIC_KEY_PATH=/home/openwisp/.ssh/id_ed25519.pub

# ===== 模块启用 =====
USE_OPENWISP_RADIUS=True
USE_OPENWISP_TOPOLOGY=True
USE_OPENWISP_FIRMWARE=True
USE_OPENWISP_MONITORING=True

# ===== 性能配置 =====
# 根据服务器CPU核心数调整
UWSGI_PROCESSES=4
UWSGI_THREADS=4
UWSGI_LISTEN=1000

# ===== Celery工作进程配置 =====
USE_OPENWISP_CELERY_TASK_ROUTES_DEFAULTS=True
OPENWISP_CELERY_COMMAND_FLAGS=--concurrency=2
USE_OPENWISP_CELERY_NETWORK=True
OPENWISP_CELERY_NETWORK_COMMAND_FLAGS=--concurrency=2
USE_OPENWISP_CELERY_MONITORING=True
OPENWISP_CELERY_MONITORING_COMMAND_FLAGS=--concurrency=2
OPENWISP_CELERY_MONITORING_CHECKS_COMMAND_FLAGS=--concurrency=2
USE_OPENWISP_CELERY_FIRMWARE=True
OPENWISP_CELERY_FIRMWARE_COMMAND_FLAGS=--concurrency=2

# ===== 系统配置 =====
TZ=Asia/Shanghai
DJANGO_LANGUAGE_CODE=zh-hans

# ===== 开发调试 =====
# 生产环境必须设置为 False
DEBUG_MODE=False
DJANGO_LOG_LEVEL=INFO

# ===== X509证书信息 =====
X509_NAME_CA=YourCompany-CA
X509_NAME_CERT=YourCompany-Cert
X509_COUNTRY_CODE=CN
X509_STATE=Beijing
X509_CITY=Beijing
X509_ORGANIZATION_NAME=YourCompany
X509_ORGANIZATION_UNIT_NAME=IT Department
X509_EMAIL=certificate@yourcompany.com
X509_COMMON_NAME=YourCompany OpenWISP

# ===== VPN配置 =====
VPN_NAME=company-vpn
VPN_CLIENT_NAME=management-vpn

# ===== 监控配置 =====
METRIC_COLLECTION=True
OPENWISP_GEOCODING_CHECK=True

# ===== 静态文件 =====
COLLECTSTATIC_WHEN_DEPS_CHANGE=true

# ===== 应用端口 =====
DASHBOARD_APP_PORT=8000
API_APP_PORT=8001
WEBSOCKET_APP_PORT=8002
